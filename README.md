# README

## 概要

このスクリプトは、指定したディレクトリ以下の構造をツリー形式で表示し、さらに対象ファイル（プログラムや設定ファイル）の内容を収集してテキストファイルに出力するツールです。特定の拡張子やファイル名に基づいて収集対象を決定し、プロジェクト内の必要な情報を一括で確認できるように設計されています。

## 特徴

- ディレクトリ構造をツリー形式で出力
- 収集対象のファイル内容をテキストファイルに保存
- 特定の拡張子やファイル名を基準に収集対象を決定
- 無視するディレクトリやファイルも指定可能

## 使用方法

### 実行コマンド

```bash
python3 <スクリプト名> [オプション]
```

### オプション

| オプション | 説明 | デフォルト値 |
|------------|------|--------------|
| `--dir`, `-d` | 解析対象のディレクトリを指定します。 | 現在のディレクトリ (`.`) |
| `--out`, `-o` | 出力先のファイル名を指定します。 | `output.txt` |

### 使用例

1. 現在のディレクトリを解析し、デフォルトのファイル名に出力する:

   ```bash
   python3 script.py
   ```

2. 特定のディレクトリを解析して、指定したファイル名に出力する:

   ```bash
   python3 script.py --dir /path/to/directory --out result.txt
   ```

## 出力内容

### 出力ファイル構成

1. **ディレクトリ構造**

   ディレクトリツリー形式で対象ディレクトリ以下の構造を表示します。

   ```
   === Directory Structure ===
   project_root
   ├── file1.py
   ├── folder1
   │   └── file2.js
   └── folder2
       └── file3.yaml
   ```

2. **収集ファイル内容**

   対象ファイルごとにその内容を出力します。エラーが発生した場合、エラーメッセージを記載します。

   ```
   === File Contents ===
   --- file1.py ---
   print("Hello, world!")

   --- folder2/file3.yaml ---
   key: value
   ```

## 収集対象

### 拡張子

以下の拡張子を持つファイルが収集対象になります:

- **プログラムファイル**: `.c`, `.cpp`, `.java`, `.py`, `.js`, `.ts`, など
- **設定ファイル**: `.json`, `.yaml`, `.ini`, など
- **ドキュメント**: `.md`, `.txt`

### ファイル名

拡張子がない場合でも、以下の特定のファイル名は収集対象になります:

- `Makefile`
- `Dockerfile`
- `requirements.txt`
- その他、一般的なプロジェクトファイル

### 無視ディレクトリ

以下のディレクトリは無視されます:

- `.git`
- `node_modules`
- `__pycache__`

### 無視ファイル

以下のファイル名や拡張子は無視されます:

- `.gitignore`
- ビルド成果物: `.pyc`, `.o`, `.class`, など

## 注意事項

- 権限エラーなどで読み取れないディレクトリやファイルはスキップされます。
- 出力ファイルはUTF-8で保存されます。

## 動作環境

- Python 3.6以上
- 標準ライブラリのみを使用しており、追加のパッケージは必要ありません。

## ライセンス

このツールはMITライセンスの下で提供されています。

## 貢献

バグ報告や機能改善の提案がありましたら、ぜひご連絡ください。

